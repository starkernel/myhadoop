# Ambari+Bigtop ä¸€ç«™å¼ç¼–è¯‘å’Œéƒ¨ç½²è§£å†³æ–¹æ¡ˆ ğŸš€âœ¨

<p align="center">
  <a href="https://gitee.com/tt-bigdata/ambari-env">
    <img src="https://img.shields.io/badge/dynamic/json?color=red&label=Gitee%20Stars&query=%24.stargazers_count&suffix=%20stars&url=https%3A%2F%2Fgitee.com%2Fapi%2Fv5%2Frepos%2Ftt-bigdata%2Fambari-env" alt="Gitee Stars">
  </a>
  <a href="https://opensource.org/licenses/Apache-2.0">
    <img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="Apache 2.0 License">
  </a>
  <br>
  <img src="https://img.shields.io/badge/Ambari-2.8.0-orange" alt="Ambari 2.8.0">
  <img src="https://img.shields.io/badge/Ambari-3.0.0-yellow" alt="Ambari 3.0.0">
  <img src="https://img.shields.io/badge/Bigtop-3.2.0-green" alt="Bigtop 3.2.0">
</p>


---

## æœ€æ–°å…¬å‘Š

## ğŸš€ ambari-env 2.2.1 å‘å¸ƒï½œKerberos ç­–ç•¥å…¨é¢ä¼˜åŒ–

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ **å°é¥•**ï¼Œä¹Ÿæ˜¯ **TTBigdata å›¢é˜Ÿçš„åˆ›å§‹äºº**ã€‚
ä»Šå¤©ğŸ‘‰ **`ambari-env 2.2.1` å°ç‰ˆæœ¬æ­£å¼å‘å¸ƒ**

è¿™æ¬¡æ›´æ–°ä¸»è¦é¢å‘ **éœ€è¦åœ¨ Ambari ç¯å¢ƒä¸­å¯ç”¨ Kerberos çš„åŒå­¦**ï¼Œå°¤å…¶æ˜¯ä» 2.x å‡çº§åˆ° 3.x åé‡åˆ°å„ç§è«åé—®é¢˜çš„ç”¨æˆ·ã€‚

## ä¸€ã€æœ¬æ¬¡æ›´æ–°äº†å•¥ï¼Ÿ

æœ€è¿‘æœ‰å°ä¼™ä¼´åé¦ˆï¼Œåœ¨ **Ambari 2.8.0** ä¸­ Kerberos å¯ä»¥æ­£å¸¸å¼€å¯ï¼Œä½† **å‡çº§åˆ° Ambari 3.0.0 åå´æ— æ³•å¯ç”¨**ã€‚

æ’æŸ¥åå‘ç°ï¼š
ç”±äºå†å²ç‰ˆæœ¬è¿ç§»ä¸­å­˜åœ¨ç–æ¼ï¼Œä¸ **Kerberos è®¤è¯ç›¸å…³çš„éƒ¨åˆ†é€»è¾‘ä» 2.x å‘ 3.x çš„è¿ç§»å¹¶æœªå®Œæ•´é€‚é…**ï¼Œ
å¯¼è‡´ **2.2.0 åŠä¹‹å‰çš„ ambari-env ç‰ˆæœ¬ä¸­** å­˜åœ¨ä»¥ä¸‹å½±å“ï¼š

* å¼€å¯ Kerberos æ—¶å¤±è´¥
* ä¸åŒç»„ä»¶çš„ kinit æ— æ³•å…‘æ¢å‡­è¯
* ç»„ä»¶ Start/Stop åæ‹“æ‰‘é¡ºåºæ··ä¹±
* æ— æ³•æ­£å¸¸æ·»åŠ æˆ–ç§»é™¤ç»„ä»¶
* zkMigration åœ¨ JDK åˆ¤å®šè¿‡ç¨‹ä¸­æŠ¥é”™

è¿™äº›é—®é¢˜åœ¨ç”Ÿäº§ç¯å¢ƒä¸­éƒ½éå¸¸ç—›è‹¦ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ 2.2.1 ä¸­è¿›è¡Œäº†é›†ä¸­ä¿®å¤ã€‚



## äºŒã€æœ¬æ¬¡æ›´æ–°çš„æ ¸å¿ƒä¼˜åŒ–å†…å®¹

### 1. å®Œæ•´é€‚é… Ranger + Kerberos çš„åŒè®¤è¯åœºæ™¯

å¾ˆå¤šé›†ç¾¤éƒ½è¦æ±‚ Ranger ä¸ Kerberos åŒæ—¶å¯ç”¨ã€‚
æ—§ç‰ˆæœ¬ä¸‹ä¸¤è€…ä¼šäº’ç›¸å¹²æ‰°ï¼Œ2.2.1 å·²å¯¹ç›¸å…³æµç¨‹è¿›è¡Œäº†ä¿®å¤å’Œè¡¥å…¨ã€‚

### 2. ä¿®å¤ Ambari 3.0.0 ä¸‹å¤šå¤„å†å²é—®é¢˜

åŒ…æ‹¬ä½†ä¸é™äºï¼š

* å¯ç”¨ Kerberos åç»„ä»¶æ— æ³•æ­£å¸¸ Add/Delete
* éƒ¨åˆ†ç»„ä»¶å›æ»šã€å¯åŠ¨æ—¶æ‹“æ‰‘é¡ºåºé”™ä¹±
* éƒ¨åˆ†æœåŠ¡çš„ kinit æ— æ³•æ­£ç¡®å…‘æ¢å‡­è¯
* zkMigration ä¸­ JDK åˆ¤æ–­å¼‚å¸¸å¯¼è‡´åˆå§‹åŒ–å¤±è´¥
* æå°‘æ•°ç»„ä»¶å›  Kerberos æ¨¡æ¿ç¼ºå¤±è€ŒæŠ¥é”™

åŒæ—¶è¡¥å……äº†å„ç±» Kerberos æ¨¡æ¿ã€æµç¨‹ä¸­çš„ç¼ºå¤±å­—æ®µä¸å…¼å®¹é€»è¾‘ã€‚

![image-20251128152823108](https://img.janettr.com/872211a09bfff67d59a782a219e05a4b-6f2ed5.png)

### 3. æ›´å®Œå–„çš„ç»„ä»¶çº§ Kerberos é€‚é…

é’ˆå¯¹ä¸åŒç»„ä»¶çš„ krb5 é…ç½®ã€principalã€keytab ä½¿ç”¨æ–¹å¼è¿›è¡Œæ ¡å‡†ï¼Œ
ç¡®ä¿åœ¨ 2.2.1 ç‰ˆæœ¬ä¸­å¯ä»¥é¡ºåˆ©ä¸ä¸Šæ¸¸ Ambari 3.x åŒ¹é…ã€‚

æ›´å¤šå˜æ›´å†…å®¹å¯æŸ¥çœ‹æ›´æ–°é¡µï¼š
ğŸ‘‰ [https://doc.janettr.com/update](https://doc.janettr.com/update)

## ä¸‰ã€æˆåŠŸå¯ç”¨ Kerberos çš„ç•Œé¢å±•ç¤º

ä»¥ä¸‹æ˜¯å‡çº§åˆ° 2.2.1 åæˆåŠŸå¯ç”¨ Kerberos çš„ç¤ºä¾‹ç¯å¢ƒï¼ˆæµ‹è¯•ç¯å¢ƒç»„ä»¶æœªå…¨éƒ¨å®‰è£…ï¼Œä»…ç”¨äºå±•ç¤ºæ•ˆæœï¼‰ï¼š

![image-20251128153904571](https://img.janettr.com/d1fc4fa649ba8d327a3878abe3e4e031-6e1394.png)



## å››ã€é…å¥—æ•™ç¨‹ï¼šå¦‚ä½•æ­£ç¡®å¼€å¯/å…³é—­ Kerberosï¼Ÿ

ç½‘ä¸Šå…³äº **Ambari å¼€å¯ Kerberos çš„å®æˆ˜èµ„æ–™å¾ˆå°‘**ï¼Œå¾ˆå¤šåŒå­¦éƒ½æ˜¯è¸©å‘ä¹‹åæ‰çŸ¥é“é¡ºåºçš„é‡è¦æ€§ã€‚

å› æ­¤æˆ‘ä»¬åŒæ­¥æ•´ç†äº†ï¼š

* å¼€å¯æµç¨‹ï¼ˆå« UI + å®é™…æµç¨‹è§£è¯»ï¼‰
* å…³é—­æµç¨‹
* å…³é”®å‚æ•°è¯´æ˜
* å¸¸è§é”™è¯¯çš„æ’æŸ¥æ–¹å¼
* å„ç»„ä»¶çš„ Kerberos é€‚é…è¯´æ˜

æ•™ç¨‹åœ°å€å¦‚ä¸‹ï¼š
ğŸ‘‰ [https://doc.janettr.com/install/kerberos/](https://doc.janettr.com/install/kerberos/)

![image-20251128154054661](https://img.janettr.com/8c415a6709ade9dae61997635b6cacb7-b80de6.png)




------

## ğŸ“š é¡¹ç›®ç®€ä»‹

> å»ºè®®ä¼˜å…ˆè®¿é—®ï¼ˆæ›´æ–°æ›´å¿« + æºå¤´é¦–å‘ï¼‰  
> ğŸ§­ **[å®˜æ–¹æ–‡æ¡£ç«™](https://doc.janettr.com)**  
> ğŸš€ [Gitee é•œåƒç«™ï¼ˆåŒæ­¥æ›´æ–°ï¼‰](https://gitee.com/tt-bigdata/ambari-env)

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹ç‰ˆæœ¬è¿›è¡Œé­”æ”¹ä¸å¢å¼ºï¼Œæä¾›ä¸€ç«™å¼ç¼–è¯‘ã€éƒ¨ç½²ã€ç®¡ç†è§£å†³æ–¹æ¡ˆï¼š

- **Ambari 2.8.0 & Ambari 3.0.0**
- **Bigtop 3.2.0**

æä¾› **å¼€ç®±å³ç”¨** çš„å¤§æ•°æ®ç»„ä»¶éƒ¨ç½²æ–¹æ¡ˆï¼Œç®€åŒ–è¿ç»´ï¼Œæ”¯æŒå¤šç§ä¸»æµç»„ä»¶ï¼Œè‡´åŠ›äºæ‰“é€ ç¨³å®šã€å¯é ã€é«˜æ•ˆçš„å¤§æ•°æ®ç”Ÿæ€ç¯å¢ƒã€‚


---

## ğŸš€ ç‰ˆæœ¬è¯´æ˜

|   **ç‰ˆæœ¬**   |     **ç»„ä»¶åç§°**     |    **ç»„ä»¶ç‰ˆæœ¬**    | **env ç‰ˆæœ¬** |             **ç¯å¢ƒé€‚é…**             |
|:----------:|:----------------:|:--------------:|:----------:|:--------------------------------:|
| **v2.2.0** |      Ambari      |     3.0.0      |   2.2.0    | el7 & el8 & ubuntu22 & Kylin V10 |
|            |      ä¸‹é¢æ‰€æœ‰ç»„ä»¶      |  1.0.0-1.0.7   |   2.2.0    | el7 & el8 & ubuntu22 & Kylin V10 |
| **v2.1.0** |      Ambari      |     3.0.0      |   2.1.0    |       el7 & el8 & ubuntu22       |
|            |      ä¸‹é¢æ‰€æœ‰ç»„ä»¶      |  1.0.0-1.0.7   |   2.1.0    |       el7 & el8 & ubuntu22       |
| **v2.0.0** |      Ambari      |     3.0.0      |   2.0.0    |            el7 & el8             |
|            |      ä¸‹é¢æ‰€æœ‰ç»„ä»¶      |  1.0.0-1.0.7   |   2.0.0    |            el7 & el8             |
| **v1.0.7** |     Superset     |     4.1.2      |   1.0.7    |              ä»… el7               |
|            |      Atlas       |     2.4.0      |   1.0.7    |              ä»… el7               |
|            |      Spark       |  3.5.5ï¼ˆç‰ˆæœ¬å‡çº§ï¼‰   |   1.0.7    |              ä»… el7               |
|            |      Flink       |  1.17.2ï¼ˆç‰ˆæœ¬å‡çº§ï¼‰  |   1.0.7    |              ä»… el7               |
| **v1.0.6** |      Trino       |      474       |   1.0.6    |              ä»… el7               |
|            |       Hudi       |     1.1.0      |   1.0.6    |              ä»… el7               |
|            |      Paimon      |     1.0.1      |   1.0.6    |              ä»… el7               |
| **v1.0.5** |      Ozone       |     1.4.1      |   1.0.5    |              ä»… el7               |
|            |      Impala      |     4.4.1      |   1.0.5    |              ä»… el7               |
|            |   Nightingale    |     7.7.2      |   1.0.5    |              ä»… el7               |
|            |     Categraf     |     0.4.1      |   1.0.5    |              ä»… el7               |
|            | VictoriaMetrics  |    1.109.1     |   1.0.5    |              ä»… el7               |
|            |   Cloudbeaver    |     24.3.3     |   1.0.5    |              ä»… el7               |
|            |     Celeborn     |     0.5.3      |   1.0.5    |              ä»… el7               |
| **v1.0.4** |      Doris       |     2.1.7      |   1.0.4    |              ä»… el7               |
| **v1.0.3** |     Phoenix      |     5.1.2      |   1.0.3    |              ä»… el7               |
|            | Dolphinscheduler |     3.2.2      |   1.0.3    |              ä»… el7               |
| **v1.0.2** |      Redis       |     7.4.0      |   1.0.2    |              ä»… el7               |
| **v1.0.1** |      Sqoop       |     1.4.7      |   1.0.1    |              ä»… el7               |
|            |      Ranger      |     2.4.0      |   1.0.1    |              ä»… el7               |
| **v1.0.0** |    Zookeeper     |     3.5.9      |   1.0.0    |              ä»… el7               |
|            |      Hadoop      |     3.3.4      |   1.0.0    |              ä»… el7               |
|            |    ~~Flink~~     |   ~~1.15.3~~   |   1.0.0    |              ä»… el7               |
|            |      HBase       |     2.4.13     |   1.0.0    |              ä»… el7               |
|            |       Hive       |     3.1.3      |   1.0.0    |              ä»… el7               |
|            |      Kafka       |     2.8.1      |   1.0.0    |              ä»… el7               |
|            |    ~~Spark~~     |   ~~3.2.3~~    |   1.0.0    |              ä»… el7               |
|            |       Solr       |     8.11.2     |   1.0.0    |              ä»… el7               |
|            |       Tez        |     0.10.1     |   1.0.0    |              ä»… el7               |
|            |     Zeppelin     |     0.10.1     |   1.0.0    |              ä»… el7               |
|            |       Livy       |     0.7.1      |   1.0.0    |              ä»… el7               |
|            |    ~~Ambari~~    | ~~branch-2.8~~ |   1.0.0    |              ä»… el7               |
|            |  Ambari Metrics  |   branch-3.0   |   1.0.0    |              ä»… el7               |
|            |   Ambari Infra   |     master     |   1.0.0    |              ä»… el7               |

---

## ğŸ”§ å¿«é€Ÿä¸Šæ‰‹

[å‚è€ƒæ–‡æ¡£](https://doc.janettr.com)

æ•™ä½ å¦‚ä½•å®‰è£…ï¼Œå¦‚ä½•å¸è½½ï¼Œå¹¶æä¾›äº†ä¸€é”®å®‰è£…è„šæœ¬

## æ•ˆæœå›¾

![img.png](.docs/img_66.png)
![img.png](.docs/img_15.png)

---

## â¤ï¸ æ”¯æŒæœ¬é¡¹ç›®

å¦‚æœä½ è§‰å¾—æœ¬é¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ”¯æŒï¼š

1. â­ **Star** æœ¬é¡¹ç›®ï¼Œå¸®åŠ©å®ƒè¢«æ›´å¤šäººçœ‹åˆ° ğŸš€
2. ğŸ“¢ **åˆ†äº«** æœ¬é¡¹ç›®ï¼Œå¸®åŠ©æ›´å¤šå¼€å‘è€…å—ç›Š
3. ğŸµ **æ‰“èµ**ï¼Œè¯·ä½œè€…å–ä¸€æ¯èŒ¶ â˜•ï¼ˆè§ä¸‹æ–¹äºŒç»´ç ï¼‰

|                    å¾®ä¿¡èµèµ                    |                          å¾®ä¿¡å·                           |                        QQ ç¾¤                        |                
|:------------------------------------------:|:------------------------------------------------------:|:--------------------------------------------------:|
| <img  src='.docs/img_3.png' width="150" /> | <img src='.docs/img_23.png' alt="WeChat QR" width=150> | <img src='.docs/img_24.png' alt="QQ QR" width=150> |

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache 2.0](LICENSE) è®¸å¯è¯ã€‚

---
