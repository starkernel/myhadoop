Subject: [PATCH] fixed: 解决编译报错问题
---
Index: Makefile
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Makefile b/Makefile
--- a/Makefile	(revision b2ecd84b31109c000c11f6c97c294524f4b9002d)
+++ b/Makefile	(date 1749695557730)
@@ -32,10 +32,10 @@
 	$(MAVEN_BINARY) versions:set-property -Dproperty=revision -DnewVersion=$(new-version) -DgenerateBackupPoms=false -Djdk.version=$(INFRA_JAVA_VERSION)

 rpm:
-	$(MAVEN_BINARY) clean package -Dbuild-rpm -DskipTests -Djdk.version=$(INFRA_JAVA_VERSION) -Drat.skip=true -X
+	$(MAVEN_BINARY) clean package -Dbuild-rpm -DskipTests -Dmaven.test.skip=true -Djdk.version=$(INFRA_JAVA_VERSION) -Drat.skip=true

 deb:
-	$(MAVEN_BINARY) clean package -Dbuild-deb -DskipTests -Djdk.version=$(INFRA_JAVA_VERSION)
+	$(MAVEN_BINARY) clean package -Dbuild-deb -DskipTests -Dmaven.test.skip=true -Djdk.version=$(INFRA_JAVA_VERSION) -Drat.skip=true

 docker-build:
 	$(MAVEN_BINARY) clean package docker:build -DskipTests -Dbuild-deb -Djdk.version=$(INFRA_JAVA_VERSION)
Index: ambari-infra-solr-plugin/pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/ambari-infra-solr-plugin/pom.xml b/ambari-infra-solr-plugin/pom.xml
--- a/ambari-infra-solr-plugin/pom.xml	(revision b2ecd84b31109c000c11f6c97c294524f4b9002d)
+++ b/ambari-infra-solr-plugin/pom.xml	(date 1749695615955)
@@ -28,6 +28,7 @@
   <modelVersion>4.0.0</modelVersion>
   <artifactId>ambari-infra-solr-plugin</artifactId>
   <dependencies>
+    <!-- Solr Core (已有) -->
     <dependency>
       <groupId>org.apache.solr</groupId>
       <artifactId>solr-core</artifactId>
@@ -39,21 +40,58 @@
         </exclusion>
       </exclusions>
     </dependency>
+    <!-- Solr SolrJ (补全) -->
+    <dependency>
+      <groupId>org.apache.solr</groupId>
+      <artifactId>solr-solrj</artifactId>
+      <version>${solr.version}</version>
+    </dependency>
+    <!-- Jackson Databind (已有) -->
     <dependency>
       <groupId>com.fasterxml.jackson.core</groupId>
       <artifactId>jackson-databind</artifactId>
     </dependency>
+    <!-- Ambari Metrics Common (已有) -->
     <dependency>
       <groupId>org.apache.ambari</groupId>
       <artifactId>ambari-metrics-common</artifactId>
       <version>${ambari-metrics.version}</version>
+    </dependency>
+    <!-- Hadoop Auth (补全) -->
+    <dependency>
+      <groupId>org.apache.hadoop</groupId>
+      <artifactId>hadoop-auth</artifactId>
+      <version>${hadoop.version}</version>
+    </dependency>
+    <!-- Commons Collections（已在父 pom managed，无需写 version） -->
+    <dependency>
+      <groupId>commons-collections</groupId>
+      <artifactId>commons-collections</artifactId>
+    </dependency>
+    <!-- Dropwizard/Codahale Metrics -->
+    <dependency>
+      <groupId>io.dropwizard.metrics</groupId>
+      <artifactId>metrics-core</artifactId>
+      <version>4.1.2</version>
     </dependency>
     <dependency>
+      <groupId>io.dropwizard.metrics</groupId>
+      <artifactId>metrics-json</artifactId>
+      <version>4.1.2</version>
+    </dependency>
+    <dependency>
+      <groupId>io.dropwizard.metrics</groupId>
+      <artifactId>metrics-jvm</artifactId>
+      <version>4.1.2</version>
+    </dependency>
+    <!-- Solr Test Framework (已有/测试) -->
+    <dependency>
       <groupId>org.apache.solr</groupId>
       <artifactId>solr-test-framework</artifactId>
       <version>${solr.version}</version>
       <scope>test</scope>
     </dependency>
+    <!-- Hamcrest (已有/测试) -->
     <dependency>
       <groupId>org.hamcrest</groupId>
       <artifactId>hamcrest-all</artifactId>
